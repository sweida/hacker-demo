(this["webpackJsonpsudoku-react"]=this["webpackJsonpsudoku-react"]||[]).push([[0],{109:function(e,t,a){e.exports=a.p+"static/media/gomoku_logo.e472b1f4.jpeg"},110:function(e,t,a){e.exports=a.p+"static/media/sudoku_logo.f2bfd9f1.jpeg"},123:function(e,t,a){e.exports=a(188)},128:function(e,t,a){},129:function(e,t,a){},134:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(2),i=a.n(c),u=(a(128),a(20)),o=a(21),s=a(30),l=a(29),m=a(31),f=a(64),d=a(32),h=a(3),v=a.n(h),g=a(109),k=a.n(g),p=a(110),y=a.n(p),b=(a(129),[{name:"\u4e94\u5b50\u68cb",img:k.a,url:"gomoku"},{name:"\u6570\u72ec",img:y.a,url:"sudoku"}]),E=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=b.map((function(e,t){return r.a.createElement(f.b,{to:e.url,key:t,className:"gameList"},r.a.createElement("img",{src:e.img,alt:""}),r.a.createElement("p",null,e.name))}));return r.a.createElement("div",null,r.a.createElement("h3",null,"\u5c0f\u6e38\u620f"),e)}}]),t}(n.Component),j=a(33),x=(a(134),a(189)),w=a(190),D=a(192),S=a(57),N=function(){function e(){Object(u.a)(this,e),this.digits=this.blankMatrix(9)}return Object(o.a)(e,[{key:"blankMatrix",value:function(e){for(var t=[],a=0;a<e;a++)t.push([]);return t}},{key:"makeDigits",value:function(){var e=this.blankMatrix(9),t=this.blankMatrix(3),a=this.randNine(),n=0,r=0,c=0,i=0,u=!1,o=0;for(n=0;n<9;n++)e[n].push(a[n]);for(t[0]=a.slice(0,3),t[1]=a.slice(3,6),t[2]=a.slice(6),n=0;n<8;n++)for(a=this.randNine(),n%3==2&&(t=this.blankMatrix(3)),r=0;r<9;r++){for(c=Math.floor(r/3),i=0,u=!1;e[r].includes(a[0])||t[c].includes(a[0]);){if(++i>=a.length){u=!0;break}a.push(a.shift())}if(u)return!1;o=a.shift(),e[r].push(o),t[c].push(o)}return this.digits=e,!0}},{key:"randNine",value:function(){for(var e=this.nine(),t=0,a=0;a<5;a++){var n=[e[t=this.randIndex()],e[0]];e[0]=n[0],e[t]=n[1]}return e}},{key:"nine",value:function(){return[1,2,3,4,5,6,7,8,9]}},{key:"randIndex",value:function(){return Math.floor(9*Math.random())}}]),e}(),O=x.a.Option,W=[1,2,3,4,5,6,7,8,9],A=function(){for(var e=new Array(9),t=0;t<9;t++)e[t]=new Array(9),e[t].fill(!1);return e},C=A();function I(e,t){this.rowIndex=~~(e/3)+3*~~(t/3),this.colIndex=e%3+t%3*3}var M=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e))).onKeyDown=function(e){var t=a.state.currentIndex,n=~~(t/10),r=t%10;switch(e.keyCode){case 37:t%10!=0&&a.active(n,r-1);break;case 38:0!=~~(t/10)&&a.active(n-1,r);break;case 39:t%10<8&&a.active(n,r+1);break;case 40:~~(t/10)<8&&a.active(n+1,r);break;default:Number(e.key)<10&&a.setNumber(Number(e.key))}},a.setDiffcul=function(e){return Math.random()>.1*Number(e)},a.initGame=function(){for(var e=function(){var e=new N;for(Date.now();!e.makeDigits(););Date.now();return e.digits}(),t=[],n=0;n<9;n++){t.push([]);for(var r=0;r<9;r++){var c=a.setDiffcul(a.state.difficulty);t[n].push(c),c||(e[n][r]=0)}}a.setState({gameData:e,statusArr:A(),defaultData:t,marksStatus:A()})},a.successModal=function(){w.a.success({content:"\u7b54\u6848\u6b63\u786e\uff01"})},a.handleSelect=function(e,t){a.setState(Object(j.a)({},e,t),(function(){a.initGame()}))},a.active=function(e,t){var n=a.state,r=n.gameData,c=n.statusArr;if("active"!=c[e][t]){for(var i=0;i<9;i++)c[i].fill(!1),c[i][t]="common";c[e].fill("common");for(var u=3*~~(e/3),o=3*~~(t/3),s=u;s<u+3;s++)for(var l=o;l<o+3;l++)c[s][l]="common";for(var m=0;m<9;m++)for(var f=0;f<9;f++)r[m][f]==r[e][t]&&0!=r[e][t]&&(c[m][f]="commonNum");c[e][t]="active",a.setState({currentIndex:10*e+t,statusArr:c})}else{var d=A();a.setState({statusArr:d})}},a.addStatus=function(e){var t=a.state.defaultData,n=~~(a.state.currentIndex/10),r=a.state.currentIndex%10;t[n][r]||(C[n][r]==e?C[n][r]=!1:C[n][r]=e,a.setState({marksStatus:C}))},a.setNumber=function(e){var t=a.state,n=t.defaultData,r=t.statusArr,c=t.gameData,i=~~(a.state.currentIndex/10),u=a.state.currentIndex%10;n[i][u]||(c[i][u]=e,r[i][u]=!1,a.setState({gameData:c,statusArr:r})),a.active(i,u)},a.checkIsNull=function(e){for(var t=0;t<e.length;t++){if(!e[t].every((function(e){return e>0})))return D.a.error("\u8bf7\u586b\u5199\u5b8c\u6574"),!1}return!0},a.checkArray=function(e){var t=e.length,a=new Array(t);a.fill(!0);for(var n=0;n<t-1;n++)if(a[n])for(var r=n+1;r<t;r++)e[n]==e[r]&&(a[n]=a[r]="error");return a},a.checkRows=function(){for(var e=a.state.gameData,t=0;t<9;t++)for(var n=e[t],r=a.checkArray(n),c=0;c<r.length;c++)"error"==r[c]&&(C[t][c]="error")},a.checkCols=function(){for(var e=a.state.gameData,t=0;t<9;t++){for(var n=[],r=0;r<9;r++)n[r]=e[r][t];for(var c=a.checkArray(n),i=0;i<c.length;i++)"error"==c[i]&&(C[i][t]="error")}},a.boxsArr=function(e){for(var t=a.state.gameData,n=3*~~(e/3),r=e%3*3,c=[],i=n;i<n+3;i++)for(var u=r;u<r+3;u++)c.push(t[i][u]);return c},a.checkBoxs=function(){for(var e=0;e<9;e++)for(var t=a.boxsArr(e),n=a.checkArray(t),r=0;r<9;r++)if("error"==n[r]){var c=new I(r,e),i=c.rowIndex,u=c.colIndex;C[i][u]="error"}},a.submit=function(){var e=a.state.gameData;if(!a.checkIsNull(e))return!1;a.setState({currentIndex:null,statusArr:A()}),C=A(),a.checkRows(),a.checkCols(),a.checkBoxs(),a.setState({marksStatus:C}),C.every((function(e){return e.every((function(e){return 0==e}))}))?a.successModal():D.a.error("\u7b54\u6848\u6709\u8bef\uff01")},a.state={spanWidth:"",gameWidth:"",currentIndex:null,gameData:[],defaultData:[],statusArr:[],difficulty:"4",marksStatus:[],currentYellow:null,currentRed:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.initGame()}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown),this.setState({spanWidth:document.getElementsByTagName("span")[0].offsetWidth-1,gameWidth:document.getElementById("sudoku").offsetWidth})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown)}},{key:"render",value:function(){var e=this,t=this.state,a=t.gameData,n=t.spanWidth,c=t.gameWidth,i=t.defaultData,u=t.statusArr,o=t.marksStatus,s={height:c,lineHeight:n+"px",fontSize:n>40?"22px":"18px"},l=a.map((function(t,a){return r.a.createElement("li",{key:a},t.map((function(t,n){var c;return r.a.createElement("span",{key:n,onClick:function(){return e.active(a,n)},className:v()((c={default:i[a][n]},Object(j.a)(c,u[a][n],u[a][n]),Object(j.a)(c,o[a][n],o[a][n]),c))},0!=t?t:"")})))})),m=W.map((function(t,a){return r.a.createElement(S.a,{key:t,onClick:function(){return e.setNumber(a+1)}},a+1)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"\u6570\u72ec\u6e38\u620f"),r.a.createElement("div",{id:"sudoku",style:s},l),r.a.createElement("div",{className:"numBox"},m,r.a.createElement(S.a,{icon:"delete",onClick:function(){return e.setNumber(0)}}),r.a.createElement("span",{className:"yellow",onClick:function(){return e.addStatus("yellow")}})),r.a.createElement("div",{className:"menu"},r.a.createElement(x.a,{defaultValue:this.state.difficulty,style:{width:100},onChange:function(t){return e.handleSelect("difficulty",t)}},r.a.createElement(O,{value:"3"},"\u7b80\u5355\u6a21\u5f0f"),r.a.createElement(O,{value:"4"},"\u666e\u901a\u6a21\u5f0f"),r.a.createElement(O,{value:"5"},"\u56f0\u96be\u6a21\u5f0f"),r.a.createElement(O,{value:"6"},"\u5730\u72f1\u6a21\u5f0f")),r.a.createElement(S.a,{type:"primary",onClick:this.initGame},"\u91cd\u65b0\u5f00\u59cb"),r.a.createElement(S.a,{type:"primary",onClick:this.submit},"\u63d0\u4ea4\u7b54\u6848")))}}]),t}(r.a.Component),B=(a(187),function(){for(var e=new Array(15),t=0;t<15;t++)e[t]=new Array(15),e[t].fill(!1);return e}),R=B(),G=[{path:"/",component:E},{path:"/sudoku",component:M},{path:"/gomoku",component:function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e))).initGame=function(){a.setState({gameData:B(),current:"black",record:[],gameEnd:!1})},a.active=function(e,t){var n=a.state,r=n.current,c=n.gameData,i=n.record;if(!n.gameEnd){if(!c[e][t]){if(c[e][t]=r,i.push({index:[e,t],current:r}),a.checkRow(r,e,t)||a.checkCol(r,e,t)||a.checkLeftSlash(r,e,t)||a.checkRightSlash(r,e,t))return D.a.success("black"==r?"\u9ed1\u65b9\u8d62":"\u767d\u65b9\u8d62"),void a.setState({gameEnd:!0,gameStatus:R});r="black"==r?"white":"black"}a.setState({current:r,record:i,gameData:c})}},a.regret=function(){var e=a.state,t=e.gameData,n=e.record,r=e.current,c=e.gameEnd;if(0!=n.length&&!c){var i=n.pop();t[i.index[0]][i.index[1]]=!1,r=i.current,a.setState({record:n,gameData:t,current:r})}},a.checkCol=function(e,t,n){var r=a.state.gameData,c=0,i=0,u=!0,o=!0;R[t][n]="judge";for(var s=1;s<5;s++)t-s>-1&&u&&r[t-s][n]==e?(c++,R[t-s][n]="judge"):u=!1,t+s<15&&o&&r[t+s][n]==e?(i++,R[t+s][n]="judge"):o=!1;if(c+i+1>=5)return!0;R=B()},a.checkRow=function(e,t,n){var r=a.state.gameData,c=0,i=0,u=!0,o=!0;R[t][n]="judge";for(var s=1;s<5;s++)n-s>-1&&u&&r[t][n-s]==e?(c++,R[t][n-s]="judge"):u=!1,n+s<15&&o&&r[t][n+s]==e?(i++,R[t][n+s]="judge"):o=!1;if(c+i+1>=5)return!0;R=B()},a.checkLeftSlash=function(e,t,n){var r=a.state.gameData,c=0,i=0,u=!0,o=!0;R[t][n]="judge";for(var s=1;s<5;s++)t-s>-1&&n-s>-1&&u&&r[t-s][n-s]==e?(c++,R[t-s][n-s]="judge"):u=!1,t+s<15&&n+s<15&&o&&r[t+s][n+s]==e?(i++,R[t+s][n+s]="judge"):o=!1;if(c+i+1>=5)return!0;R=B()},a.checkRightSlash=function(e,t,n){var r=a.state.gameData,c=0,i=0,u=!0,o=!0;R[t][n]="judge";for(var s=1;s<5;s++)t+s<15&&n-s>-1&&u&&r[t+s][n-s]==e?(c++,R[t+s][n-s]="judge"):u=!1,t-s>-1&&n+s<15&&o&&r[t-s][n+s]==e?(i++,R[t-s][n+s]="judge"):o=!1;if(c+i+1>=5)return!0;R=B()},a.state={spanWidth:"",gameWidth:"",currentX:null,currentY:null,current:"black",gameEnd:!1,record:[],gameData:B(),grid:B(),gameStatus:B()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this.state.grid;e[3][3]=!0,e[11][3]=!0,e[11][11]=!0,e[7][7]=!0,e[3][11]=!0,this.setState({grid:e,spanWidth:document.getElementsByTagName("span")[0].offsetWidth-1,gameWidth:document.getElementById("gomoku").offsetWidth})}},{key:"render",value:function(){var e=this,t=this.state,a=t.gameData,n=t.spanWidth,c=t.gameWidth,i=t.gameStatus,u=t.gameEnd,o=t.record,s=t.current,l=t.grid,m=o[o.length-1],f={height:c,lineHeight:n+"px",fontSize:n>40?"22px":"18px"},d=a.map((function(t,a){return r.a.createElement("li",{key:a},t.map((function(t,n){var c;return r.a.createElement("span",{key:n,onClick:function(){return e.active(a,n)}},l[a][n]&&r.a.createElement("i",{className:"grid"}),t&&r.a.createElement("i",{className:v()((c={chess:!0},Object(j.a)(c,t,!0),Object(j.a)(c,"last",m.index[0]==a&&m.index[1]==n),Object(j.a)(c,"judge",u&&i[a][n]),c))}))})))})),h=v()({chess:!0,black:!0,active:"black"==s}),g=v()({chess:!0,white:!0,active:"white"==s});return r.a.createElement("div",{id:"gomoku"},r.a.createElement("h3",null,"\u4e94\u5b50\u68cb"),r.a.createElement("div",{className:"sideBox"},r.a.createElement("div",{className:"side"},r.a.createElement("span",{className:h}),"black"==s&&r.a.createElement("span",null,u?"\u9ed1\u68cb\u80dc\u270c\ufe0f":"\u9ed1\u68cb\u4e0b")),r.a.createElement("div",{className:"text"},r.a.createElement("span",null,"black"==s&&"\ud83d\udc48"),r.a.createElement("span",null,"VS"),r.a.createElement("span",null,"white"==s&&"\ud83d\udc49")),r.a.createElement("div",{className:"side end"},"white"==s&&r.a.createElement("span",null,u?"\u767d\u68cb\u80dc\u270c\ufe0f":"\u767d\u68cb\u4e0b"),r.a.createElement("span",{className:g}))),r.a.createElement("div",{className:"checkerboard",style:f},d),r.a.createElement("div",{className:"menu"},r.a.createElement(S.a,{type:"primary",onClick:this.regret},"\u6094\u68cb"),r.a.createElement(S.a,{type:"primary",onClick:this.initGame},"\u91cd\u65b0\u5f00\u59cb")))}}]),t}(r.a.Component)}],L=a(13),K=Object(L.a)(),z=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement(d.b,{history:K},r.a.createElement(d.c,null,G.map((function(e,t){return r.a.createElement(d.a,{key:t,path:e.path,exact:!0,render:function(t){return r.a.createElement(e.component,t)}})})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[123,1,2]]]);