(this["webpackJsonpsudoku-react"]=this["webpackJsonpsudoku-react"]||[]).push([[0],{107:function(e,t,a){e.exports=a(169)},112:function(e,t,a){},113:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(2),o=a.n(i),c=(a(112),a(93)),u=a(52),s=a(53),l=a(103),f=a(94),m=a(104),d=(a(113),a(171)),h=a(172),v=a(174),k=a(44),y=function(){function e(){Object(u.a)(this,e),this.digits=this.blankMatrix(9)}return Object(s.a)(e,[{key:"blankMatrix",value:function(e){for(var t=[],a=0;a<e;a++)t.push([]);return t}},{key:"makeDigits",value:function(){var e=this.blankMatrix(9),t=this.blankMatrix(3),a=this.randNine(),n=0,r=0,i=0,o=0,c=!1,u=0;for(n=0;n<9;n++)e[n].push(a[n]);for(t[0]=a.slice(0,3),t[1]=a.slice(3,6),t[2]=a.slice(6),n=0;n<8;n++)for(a=this.randNine(),n%3==2&&(t=this.blankMatrix(3)),r=0;r<9;r++){for(i=Math.floor(r/3),o=0,c=!1;e[r].includes(a[0])||t[i].includes(a[0]);){if(++o>=a.length){c=!0;break}a.push(a.shift())}if(c)return!1;u=a.shift(),e[r].push(u),t[i].push(u)}return this.digits=e,!0}},{key:"randNine",value:function(){for(var e=this.nine(),t=0,a=0;a<5;a++){var n=[e[t=this.randIndex()],e[0]];e[0]=n[0],e[t]=n[1]}return e}},{key:"nine",value:function(){return[1,2,3,4,5,6,7,8,9]}},{key:"randIndex",value:function(){return Math.floor(9*Math.random())}}]),e}(),g=d.a.Option,p=[1,2,3,4,5,6,7,8,9],b=function(){for(var e=new Array(9),t=0;t<9;t++)e[t]=new Array(9),e[t].fill(!1);return e},w=b();function x(e,t){this.rowIndex=~~(e/3)+3*~~(t/3),this.colIndex=e%3+t%3*3}var D=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(f.a)(t).call(this,e))).onKeyDown=function(e){var t=a.state.currentIndex,n=~~(t/10),r=t%10;switch(e.keyCode){case 37:t%10!=0&&a.active(n,r-1);break;case 38:0!=~~(t/10)&&a.active(n-1,r);break;case 39:t%10<8&&a.active(n,r+1);break;case 40:~~(t/10)<8&&a.active(n+1,r);break;default:Number(e.key)<10&&a.setNumber(Number(e.key))}},a.setDiffcul=function(e){return Math.random()>.1*Number(e)},a.initGame=function(){for(var e=function(){var e=new y;for(Date.now();!e.makeDigits(););Date.now();return e.digits}(),t=[],n=0;n<9;n++){t.push([]);for(var r=0;r<9;r++){var i=a.setDiffcul(a.state.difficulty);t[n].push(i),i||(e[n][r]=0)}}a.setState({gameData:e,statusArr:b(),defaultData:t,marksStatus:b()})},a.successModal=function(){h.a.success({content:"\u7b54\u6848\u6b63\u786e\uff01"})},a.handleSelect=function(e,t){a.setState(Object(c.a)({},e,t),(function(){a.initGame()}))},a.active=function(e,t){var n=a.state,r=n.gameData,i=n.statusArr;if("active"!=i[e][t]){for(var o=0;o<9;o++)i[o].fill(!1),i[o][t]="common";i[e].fill("common");for(var c=3*~~(e/3),u=3*~~(t/3),s=c;s<c+3;s++)for(var l=u;l<u+3;l++)i[s][l]="common";for(var f=0;f<9;f++)for(var m=0;m<9;m++)r[f][m]==r[e][t]&&0!=r[e][t]&&(i[f][m]="commonNum");i[e][t]="active",a.setState({currentIndex:10*e+t,statusArr:i})}else{var d=b();a.setState({statusArr:d})}},a.addStatus=function(e){var t=a.state.defaultData,n=~~(a.state.currentIndex/10),r=a.state.currentIndex%10;t[n][r]||(w[n][r]==e?w[n][r]=!1:w[n][r]=e,a.setState({marksStatus:w}))},a.setNumber=function(e){var t=a.state,n=t.defaultData,r=t.statusArr,i=t.gameData,o=~~(a.state.currentIndex/10),c=a.state.currentIndex%10;n[o][c]||(i[o][c]=e,r[o][c]=!1,a.setState({gameData:i,statusArr:r})),a.active(o,c)},a.checkIsNull=function(e){for(var t=0;t<e.length;t++){if(!e[t].every((function(e){return e>0})))return v.a.error("\u8bf7\u586b\u5199\u5b8c\u6574"),!1}return!0},a.checkArray=function(e){var t=e.length,a=new Array(t);a.fill(!0);for(var n=0;n<t-1;n++)if(a[n])for(var r=n+1;r<t;r++)e[n]==e[r]&&(a[n]=a[r]="error");return a},a.checkRows=function(){for(var e=a.state.gameData,t=0;t<9;t++)for(var n=e[t],r=a.checkArray(n),i=0;i<r.length;i++)"error"==r[i]&&(w[t][i]="error")},a.checkCols=function(){for(var e=a.state.gameData,t=0;t<9;t++){for(var n=[],r=0;r<9;r++)n[r]=e[r][t];for(var i=a.checkArray(n),o=0;o<i.length;o++)"error"==i[o]&&(w[o][t]="error")}},a.boxsArr=function(e){for(var t=a.state.gameData,n=3*~~(e/3),r=e%3*3,i=[],o=n;o<n+3;o++)for(var c=r;c<r+3;c++)i.push(t[o][c]);return i},a.checkBoxs=function(){for(var e=0;e<9;e++)for(var t=a.boxsArr(e),n=a.checkArray(t),r=0;r<9;r++)if("error"==n[r]){var i=new x(r,e),o=i.rowIndex,c=i.colIndex;w[o][c]="error"}},a.submit=function(){var e=a.state.gameData;if(!a.checkIsNull(e))return!1;a.setState({currentIndex:null,statusArr:b()}),w=b(),a.checkRows(),a.checkCols(),a.checkBoxs(),a.setState({marksStatus:w}),w.every((function(e){return e.every((function(e){return 0==e}))}))?a.successModal():v.a.error("\u7b54\u6848\u6709\u8bef\uff01")},a.state={spanWidth:"",gameWidth:"",currentIndex:null,gameData:[],defaultData:[],statusArr:[],difficulty:"4",marksStatus:[],currentYellow:null,currentRed:null},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.initGame()}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown),this.setState({spanWidth:document.getElementsByTagName("span")[0].offsetWidth-1,gameWidth:document.getElementById("game").offsetWidth})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown)}},{key:"render",value:function(){var e=this,t=this.state,a=t.gameData,n=t.spanWidth,i=t.gameWidth,o=t.defaultData,c=t.statusArr,u=t.marksStatus,s={height:i,lineHeight:n+"px",fontSize:n>40?"22px":"18px"},l=a.map((function(t,a){return r.a.createElement("li",{key:a},t.map((function(t,n){return r.a.createElement("span",{key:n,onClick:function(){return e.active(a,n)},className:"".concat(o[a][n]?"defalut":""," ").concat(c[a][n]?c[a][n]:""," ").concat(u[a][n]?u[a][n]:"")},0!=t?t:"")})))})),f=p.map((function(t,a){return r.a.createElement(k.a,{key:t,onClick:function(){return e.setNumber(a+1)}},a+1)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"\u6570\u72ec\u6e38\u620f"),r.a.createElement("div",{id:"game",style:s},l),r.a.createElement("div",{className:"numBox"},f,r.a.createElement(k.a,{icon:"delete",onClick:function(){return e.setNumber(0)}}),r.a.createElement("span",{className:"yellow",onClick:function(){return e.addStatus("yellow")}})),r.a.createElement("div",{className:"menu"},r.a.createElement(d.a,{defaultValue:this.state.difficulty,style:{width:100},onChange:function(t){return e.handleSelect("difficulty",t)}},r.a.createElement(g,{value:"3"},"\u7b80\u5355\u6a21\u5f0f"),r.a.createElement(g,{value:"4"},"\u666e\u901a\u6a21\u5f0f"),r.a.createElement(g,{value:"5"},"\u56f0\u96be\u6a21\u5f0f"),r.a.createElement(g,{value:"6"},"\u5730\u72f1\u6a21\u5f0f")),r.a.createElement(k.a,{type:"primary",onClick:this.initGame},"\u91cd\u65b0\u5f00\u59cb"),r.a.createElement(k.a,{type:"primary",onClick:this.submit},"\u63d0\u4ea4\u7b54\u6848")))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[107,1,2]]]);